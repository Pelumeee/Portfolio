import { NavLink, useLocation } from "react-router-dom";
import { useState } from "react";

const Navbar = () => {
    const location = useLocation();
    const [showMenu, setShowMenu] = useState(false);
    const [menuImg, setMenuImg] = useState("/open.svg");
    const [showSubMenu, setShowSubMenu] = useState(false);

    const handleToggleMenu = () => {
        setShowMenu(!showMenu);
    };

    const handleSubMenu = () => {
        setShowSubMenu(!showSubMenu);
        if (!showSubMenu) {
            setMenuImg("/close.svg");
        } else {
            setMenuImg("/open.svg");
        }
    };

    return (
        <header className="w-full flex flex-col items-center bg-[#fff] border-b border-[#F2F2F2] fixed z-[100]">
            <nav className="relative lg:w-[70%] w-[90%] flex items-center justify-between md:py-8 py-4">
                <NavLink to={"/"}>
                    <div>
                        <svg className="w-[80px] h-[31px] md:w-[119px] md:h-[47px]" viewBox="0 0 119 47" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M90.6401 33.5263C92.7653 33.5263 94.7439 33.3065 96.5759 32.8668C98.4446 32.3905 100.057 31.6576 101.413 30.6683C102.805 29.6424 103.886 28.3233 104.655 26.7111C105.425 25.0623 105.809 23.0471 105.809 20.6654C105.809 18.3204 105.406 16.3235 104.6 14.6746C103.831 13.0258 102.768 11.7067 101.413 10.7174C100.057 9.69149 98.4446 8.95867 96.5759 8.51898C94.7439 8.04265 92.7653 7.80449 90.6401 7.80449H84.5944C82.4326 7.80449 80.4173 8.04265 78.5487 8.51898C76.7166 8.95867 75.1227 9.69149 73.767 10.7174C72.4113 11.7067 71.3304 13.0258 70.5243 14.6746C69.7549 16.3235 69.3701 18.3204 69.3701 20.6654C69.3701 23.0471 69.7549 25.0623 70.5243 26.7111C71.3304 28.3233 72.4113 29.6424 73.767 30.6683C75.1227 31.6943 76.7166 32.4271 78.5487 32.8668C80.4173 33.3065 82.4326 33.5263 84.5944 33.5263H90.6401ZM84.5944 30.4485C82.9456 30.4485 81.3883 30.2836 79.9227 29.9538C78.4571 29.6241 77.1746 29.0928 76.0754 28.36C74.9762 27.5905 74.0968 26.5829 73.4373 25.3371C72.7777 24.0913 72.448 22.5341 72.448 20.6654C72.448 18.8334 72.7777 17.2945 73.4373 16.0487C74.0968 14.8029 74.9762 13.7953 76.0754 13.0258C77.2113 12.2563 78.512 11.7067 79.9777 11.377C81.4433 11.0472 82.9822 10.8823 84.5944 10.8823H90.6401C92.2523 10.8823 93.7912 11.0472 95.2569 11.377C96.7225 11.7067 98.0049 12.2563 99.1042 13.0258C100.203 13.7953 101.083 14.8029 101.742 16.0487C102.402 17.2945 102.732 18.8334 102.732 20.6654C102.732 22.4974 102.402 24.0364 101.742 25.2822C101.119 26.5279 100.258 27.5356 99.1591 28.305C98.0599 29.0745 96.7775 29.6241 95.3118 29.9538C93.8462 30.2836 92.289 30.4485 90.6401 30.4485H84.5944ZM65.9076 20.6654C65.9076 17.6975 66.3656 15.1876 67.2816 13.1357C68.2343 11.0838 69.535 9.41668 71.1839 8.13426C72.8693 6.81519 74.8479 5.88085 77.1197 5.33124C79.428 4.74498 81.9196 4.45185 84.5944 4.45185H90.6401C93.3149 4.45185 95.7882 4.74498 98.0599 5.33124C100.332 5.91749 102.292 6.85183 103.941 8.13426C105.626 9.41668 106.927 11.0838 107.843 13.1357C108.796 15.1876 109.272 17.6975 109.272 20.6654C109.272 23.6333 108.796 26.1432 107.843 28.1951C106.927 30.247 105.626 31.9141 103.941 33.1966C102.292 34.479 100.332 35.4133 98.0599 35.9996C95.7882 36.5858 93.3149 36.879 90.6401 36.879H84.5944C81.9196 36.879 79.428 36.6042 77.1197 36.0545C74.8479 35.4683 72.8693 34.534 71.1839 33.2515C69.535 31.9325 68.2343 30.247 67.2816 28.1951C66.3656 26.1432 65.9076 23.6333 65.9076 20.6654ZM62.8298 20.6654C62.8298 24.1463 63.3611 27.1142 64.4236 29.5691C65.5229 31.9874 67.0251 33.966 68.9305 35.5049C70.8724 37.0438 73.1625 38.1797 75.8006 38.9125C78.4754 39.6087 81.4066 39.9568 84.5944 39.9568H90.6401C93.8279 39.9568 96.7408 39.6087 99.379 38.9125C102.017 38.1797 104.289 37.0438 106.194 35.5049C108.136 33.966 109.638 31.9874 110.701 29.5691C111.764 27.1142 112.295 24.1463 112.295 20.6654C112.295 17.1845 111.764 14.2349 110.701 11.8167C109.638 9.36172 108.136 7.3648 106.194 5.82589C104.289 4.28697 102.017 3.16943 99.379 2.47325C96.7408 1.74044 93.8279 1.37403 90.6401 1.37403H84.5944C81.4066 1.37403 78.4754 1.74044 75.8006 2.47325C73.1625 3.16943 70.8724 4.28697 68.9305 5.82589C67.0251 7.3648 65.5229 9.36172 64.4236 11.8167C63.3611 14.2349 62.8298 17.1845 62.8298 20.6654ZM61.4557 20.6654C61.4557 16.928 62.0237 13.7586 63.1595 11.1571C64.2954 8.51898 65.8893 6.3755 67.9412 4.72666C69.993 3.07782 72.4297 1.887 75.251 1.15418C78.109 0.384728 81.2234 0 84.5944 0H90.6401C92.7653 0 94.7622 0.128242 96.6309 0.384727C98.5362 0.604571 100.405 1.09922 102.237 1.86868C104.069 2.60149 105.883 3.66408 107.678 5.05643C109.51 6.41214 111.397 8.24418 113.339 10.5525C114.988 12.2014 116.344 14.3815 117.406 17.0929C118.469 19.8043 119 22.8272 119 26.1615C119 29.8622 118.432 33.0134 117.296 35.6149C116.197 38.2163 114.622 40.3232 112.57 41.9354C110.554 43.5842 108.136 44.7751 105.315 45.5079C102.53 46.2773 99.4706 46.6621 96.1362 46.6621H90.0905C86.3532 46.6621 82.8723 46.2407 79.6479 45.3979C76.4235 44.5552 73.767 43.1079 71.6785 41.056C69.59 39.224 67.8862 37.5019 66.5671 35.8897C65.2481 34.2408 64.2038 32.6103 63.4343 30.9981C62.7015 29.3859 62.1885 27.7371 61.8954 26.0516C61.6023 24.3661 61.4557 22.5707 61.4557 20.6654ZM90.6401 29.0745C92.0691 29.0745 93.4248 28.9462 94.7073 28.6897C96.0263 28.3966 97.1805 27.9203 98.1698 27.2607C99.1591 26.6012 99.9286 25.7402 100.478 24.6776C101.064 23.5784 101.358 22.241 101.358 20.6654C101.358 19.786 101.248 18.9799 101.028 18.2471C99.5255 17.8074 97.895 17.5876 96.1362 17.5876H90.0905C88.6249 17.5876 87.2325 17.7341 85.9135 18.0273C84.5944 18.3204 83.4219 18.7967 82.396 19.4563C81.4066 20.1158 80.6189 20.9952 80.0326 22.0944C79.4464 23.1936 79.1532 24.5493 79.1532 26.1615C79.1532 27.0409 79.2265 27.7737 79.3731 28.36C80.1425 28.6165 80.967 28.7997 81.8463 28.9096C82.7257 29.0195 83.6417 29.0745 84.5944 29.0745H90.6401Z"
                                fill="black"
                                fillOpacity="0.8"
                            />
                            <path
                                d="M29.1844 33.5263C31.3096 33.5263 33.2882 33.3065 35.1202 32.8668C36.9889 32.3905 38.6011 31.6576 39.9568 30.6683C41.3491 29.6424 42.43 28.3233 43.1995 26.7111C43.969 25.0623 44.3537 23.0471 44.3537 20.6654C44.3537 18.3204 43.9506 16.3235 43.1445 14.6746C42.3751 13.0258 41.3125 11.7067 39.9568 10.7174C38.6011 9.69149 36.9889 8.95867 35.1202 8.51898C33.2882 8.04265 31.3096 7.80449 29.1844 7.80449H23.1387C20.9769 7.80449 18.9616 8.04265 17.0929 8.51898C15.2609 8.95867 13.667 9.69149 12.3113 10.7174C10.9556 11.7067 9.87469 13.0258 9.0686 14.6746C8.29914 16.3235 7.91441 18.3204 7.91441 20.6654C7.91441 23.0471 8.29914 25.0623 9.0686 26.7111C9.87469 28.3233 10.9556 29.6424 12.3113 30.6683C13.667 31.6943 15.2609 32.4271 17.0929 32.8668C18.9616 33.3065 20.9769 33.5263 23.1387 33.5263H29.1844ZM23.1387 30.4485C21.4898 30.4485 19.9326 30.2836 18.467 29.9538C17.0013 29.6241 15.7189 29.0928 14.6197 28.36C13.5205 27.5905 12.6411 26.5829 11.9815 25.3371C11.322 24.0913 10.9922 22.5341 10.9922 20.6654C10.9922 18.8334 11.322 17.2945 11.9815 16.0487C12.6411 14.8029 13.5205 13.7953 14.6197 13.0258C15.7555 12.2563 17.0563 11.7067 18.5219 11.377C19.9876 11.0472 21.5265 10.8823 23.1387 10.8823H29.1844C30.7966 10.8823 32.3355 11.0472 33.8011 11.377C35.2668 11.7067 36.5492 12.2563 37.6484 13.0258C38.7476 13.7953 39.627 14.8029 40.2866 16.0487C40.9461 17.2945 41.2759 18.8334 41.2759 20.6654C41.2759 22.4974 40.9461 24.0364 40.2866 25.2822C39.6637 26.5279 38.8026 27.5356 37.7034 28.305C36.6042 29.0745 35.3217 29.6241 33.8561 29.9538C32.3905 30.2836 30.8332 30.4485 29.1844 30.4485H23.1387ZM4.45186 20.6654C4.45186 17.6975 4.90987 15.1876 5.82589 13.1357C6.77855 11.0838 8.0793 9.41668 9.72813 8.13426C11.4136 6.81519 13.3922 5.88085 15.6639 5.33124C17.9723 4.74498 20.4639 4.45185 23.1387 4.45185H29.1844C31.8592 4.45185 34.3324 4.74498 36.6042 5.33124C38.8759 5.91749 40.8362 6.85183 42.485 8.13426C44.1705 9.41668 45.4712 11.0838 46.3872 13.1357C47.3399 15.1876 47.8162 17.6975 47.8162 20.6654C47.8162 23.6333 47.3399 26.1432 46.3872 28.1951C45.4712 30.247 44.1705 31.9141 42.485 33.1966C40.8362 34.479 38.8759 35.4133 36.6042 35.9996C34.3324 36.5858 31.8592 36.879 29.1844 36.879H23.1387C20.4639 36.879 17.9723 36.6042 15.6639 36.0545C13.3922 35.4683 11.4136 34.534 9.72813 33.2515C8.0793 31.9325 6.77855 30.247 5.82589 28.1951C4.90987 26.1432 4.45186 23.6333 4.45186 20.6654ZM1.37403 20.6654C1.37403 24.1463 1.90532 27.1142 2.9679 29.5691C4.06713 31.9874 5.5694 33.966 7.47472 35.5049C9.41669 37.0438 11.7067 38.1797 14.3449 38.9125C17.0196 39.6087 19.9509 39.9568 23.1387 39.9568H29.1844C32.3721 39.9568 35.2851 39.6087 37.9232 38.9125C40.5614 38.1797 42.8331 37.0438 44.7384 35.5049C46.6804 33.966 48.1826 31.9874 49.2452 29.5691C50.3078 27.1142 50.8391 24.1463 50.8391 20.6654C50.8391 17.1845 50.3078 14.2349 49.2452 11.8167C48.1826 9.36172 46.6804 7.3648 44.7384 5.82589C42.8331 4.28697 40.5614 3.16943 37.9232 2.47325C35.2851 1.74044 32.3721 1.37403 29.1844 1.37403H23.1387C19.9509 1.37403 17.0196 1.74044 14.3449 2.47325C11.7067 3.16943 9.41669 4.28697 7.47472 5.82589C5.5694 7.3648 4.06713 9.36172 2.9679 11.8167C1.90532 14.2349 1.37403 17.1845 1.37403 20.6654ZM0 20.6654C0 16.928 0.567932 13.7586 1.7038 11.1571C2.83966 8.51898 4.43354 6.3755 6.48542 4.72666C8.53731 3.07782 10.9739 1.887 13.7953 1.15418C16.6532 0.384728 19.7677 0 23.1387 0H29.1844C31.3096 0 33.3065 0.128242 35.1752 0.384727C37.0805 0.604571 38.9492 1.09922 40.7812 1.86868C42.6132 2.60149 44.427 3.66408 46.2224 5.05643C48.0544 6.41214 49.9414 8.24418 51.8834 10.5525C53.5322 12.2014 54.8879 14.3815 55.9505 17.0929C57.0131 19.8043 57.5444 22.8272 57.5444 26.1615C57.5444 29.8622 56.9764 33.0134 55.8406 35.6149C54.7414 38.2163 53.1658 40.3232 51.1139 41.9354C49.0987 43.5842 46.6804 44.7751 43.859 45.5079C41.0743 46.2773 38.0148 46.6621 34.6805 46.6621H28.6348C24.8974 46.6621 21.4165 46.2407 18.1922 45.3979C14.9678 44.5552 12.3113 43.1079 10.2228 41.056C8.13426 39.224 6.43046 37.5019 5.11139 35.8897C3.79232 34.2408 2.74806 32.6103 1.9786 30.9981C1.24579 29.3859 0.732816 27.7371 0.43969 26.0516C0.146563 24.3661 0 22.5707 0 20.6654ZM29.1844 29.0745C30.6134 29.0745 31.9691 28.9462 33.2515 28.6897C34.5706 28.3966 35.7248 27.9203 36.7141 27.2607C37.7034 26.6012 38.4728 25.7402 39.0224 24.6776C39.6087 23.5784 39.9018 22.241 39.9018 20.6654C39.9018 19.786 39.7919 18.9799 39.5721 18.2471C38.0698 17.8074 36.4393 17.5876 34.6805 17.5876H28.6348C27.1691 17.5876 25.7768 17.7341 24.4577 18.0273C23.1387 18.3204 21.9662 18.7967 20.9402 19.4563C19.9509 20.1158 19.1631 20.9952 18.5769 22.0944C17.9906 23.1936 17.6975 24.5493 17.6975 26.1615C17.6975 27.0409 17.7708 27.7737 17.9173 28.36C18.6868 28.6165 19.5112 28.7997 20.3906 28.9096C21.27 29.0195 22.186 29.0745 23.1387 29.0745H29.1844Z"
                                fill="black"
                                fillOpacity="0.8"
                            />
                        </svg>
                    </div>
                </NavLink>
                <ul className="md:flex hidden items-center gap-4 bg-[#F5F6F8] rounded-[100px] py-2.5 px-3">
                    <NavLink to={"/home"} className={location.pathname === "/" ? "active" : ""}>
                        <li className="text-[#87898D] font-medium py-2.5 px-10 rounded-[100px]">home</li>
                    </NavLink>
                    <NavLink to={"/work"}>
                        <li className="text-[#87898D] font-medium py-2.5 px-10 rounded-[100px]">work</li>
                    </NavLink>
                    <NavLink to={"/about"}>
                        <li className="text-[#87898D] font-medium py-2.5 px-10 rounded-[100px]">about</li>
                    </NavLink>
                </ul>
                <div onClick={handleToggleMenu} className="md:flex hidden items-center gap-3 bg-[#F5F6F8] rounded-[100px] py-5 px-8 cursor-pointer">
                    <p className="text-[#060607] font-medium leading-7">Connect</p>
                    <svg width="11" height="6" viewBox="0 0 11 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M10.8787 5.21785L6.18083 0.230971C6.10061 0.159257 5.99658 0.10105 5.87698 0.0609607C5.75739 0.0208712 5.62552 0 5.49181 0C5.3581 0 5.22623 0.0208712 5.10663 0.0609607C4.98704 0.10105 4.88301 0.159257 4.80279 0.230971L0.1049 5.21785C0.0361786 5.29765 0 5.38817 0 5.48031C0 5.57246 0.0361786 5.66298 0.1049 5.74278C0.179638 5.82135 0.28261 5.88607 0.404366 5.93101C0.526122 5.97595 0.662764 5.99967 0.801753 6H10.2132C10.3522 5.99967 10.4888 5.97595 10.6106 5.93101C10.7323 5.88607 10.8353 5.82135 10.91 5.74278C10.9741 5.66115 11.0049 5.56965 10.9994 5.4775C10.9939 5.38534 10.9523 5.29579 10.8787 5.21785Z"
                            fill="#060607"
                        />
                    </svg>
                </div>
                {showMenu && (
                    <div className="absolute right-[0] top-[55%] flex flex-col gap-3 bg-[#F5F6F8] rounded-b-[30px] py-8 px-8">
                        <div className="flex items-center justify-between border-t border-[#E6E8EB] pt-2">
                            <p className="text-[#060607] font-medium leading-7">Email</p>
                            <img src="/images/email.png" alt="" className="w-[24px] h-[24px]" />
                        </div>
                        <div className="flex items-center justify-between">
                            <p className="text-[#060607] font-medium leading-7">LinkedIn</p>
                            <img src="/images/Linkedin.png" alt="" className="w-[24px] h-[24px]" />
                        </div>
                    </div>
                )}
                <div className="md:hidden">
                    <img onClick={handleSubMenu} src={menuImg} alt="" />
                </div>
            </nav>
            {showSubMenu && (
                <div className="relative w-full bg-[#fff] subMenu">
                    <div className="w-full flex justify-center md:hidden absolute bg-[#fff] top-0 pb-14">
                        <div className="w-[90%]">
                            <ul>
                                <NavLink to={"/home"} className={location.pathname === "/" ? "active" : ""}>
                                    <li className="text-[#87898D] font-medium py-3">Home</li>
                                </NavLink>
                                <NavLink to={"/work"}>
                                    <li className="text-[#87898D] font-medium py-3">Work</li>
                                </NavLink>
                                <NavLink to={"/about"}>
                                    <li className="text-[#87898D] font-medium py-3">About</li>
                                </NavLink>
                            </ul>
                            <div className="p-4">
                                <h1 className="text-[#9A9A9A] font-semibold">CONNECT</h1>
                                <div className="flex flex-col gap-3 p-3">
                                    <div className="flex items-center gap-5">
                                        <p className="text-[#060607] font-medium leading-7 text-sm underline">Email</p>
                                        <img src="/images/email.png" alt="" className="w-[24px] md:h-[24px] h-[18px]" />
                                    </div>
                                    <div className="flex items-center gap-5">
                                        <p className="text-[#060607] font-medium leading-7 text-sm">LinkedIn</p>
                                        <img src="/images/Linkedin.png" alt="" className="w-[24px] md:h-[24px] h-[20px]" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            )}
        </header>
    );
};

export default Navbar;
